<div class="p-8 bg-slate-50 min-h-screen">
  <header class="mb-10">
    <h1 class="text-3xl font-black text-slate-800 tracking-tighter uppercase italic">Resumen de Control</h1>
    <p class="text-blue-500 font-black text-[10px] uppercase tracking-[0.3em] mt-1 italic">
      Cuidador: {{ authService.currentUser()?.name }} (ID: {{ authService.currentUser()?.id }})
    </p>
  </header>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
    <div class="bg-white p-8 rounded-[2.5rem] shadow-sm border border-slate-100">
      <p class="text-[9px] font-black text-slate-400 uppercase tracking-widest mb-2">Usuarios Asignados</p>
      <h4 class="text-4xl font-black text-slate-800 tracking-tighter">{{ stats().total }}</h4>
      <p class="text-[10px] font-bold text-slate-400 mt-1 uppercase italic">Marta, Roberto y Ana</p>
    </div>

    <div class="bg-slate-900 p-8 rounded-[2.5rem] shadow-xl shadow-blue-900/20">
      <p class="text-[9px] font-black text-blue-500 uppercase tracking-widest mb-2">Alertas sin Confirmar</p>
      <h4 class="text-4xl font-black text-white tracking-tighter">{{ stats().critical }}</h4>
      <p class="text-[10px] font-bold text-slate-500 mt-1 uppercase italic italic">Requieren atención</p>
    </div>

    <div class="bg-white p-8 rounded-[2.5rem] shadow-sm border border-slate-100">
      <p class="text-[9px] font-black text-slate-400 uppercase tracking-widest mb-2">Dispositivos ESP32</p>
      <h4 class="text-4xl font-black text-emerald-500 tracking-tighter">{{ stats().active }}</h4>
      <p class="text-[10px] font-bold text-slate-400 mt-1 uppercase italic italic">Sincronizados</p>
    </div>
  </div>

  <div class="bg-white rounded-[3rem] p-10 border border-slate-100 shadow-sm">
    <h3 class="text-xl font-black text-slate-800 italic uppercase tracking-tighter mb-8">Alertas Recientes (Histórico SQL)</h3>
    
    <div class="space-y-4">
      <div *ngFor="let alert of recentAlerts()" class="flex items-center justify-between p-5 bg-slate-50 rounded-2xl border border-slate-100">
        <div class="flex items-center gap-4">
          <div [ngClass]="alert.confirmed ? 'bg-emerald-100 text-emerald-600' : 'bg-red-100 text-red-600'" 
               class="w-12 h-12 rounded-xl flex items-center justify-center text-xl font-bold">
            {{ alert.fall_detected ? '⚠️' : '✅' }}
          </div>
          <div>
            <p class="text-sm font-black text-slate-800">Evento de Caída - Usuario #{{ alert.user_id }}</p>
            <p class="text-[10px] font-bold text-slate-400 uppercase mt-1">Impacto: {{ alert.acc_x }}, {{ alert.acc_y }}, {{ alert.acc_z }} G</p>
          </div>
        </div>
        <div class="text-right">
          <p class="text-[10px] font-black text-slate-400 uppercase">{{ alert.date_rep | date:'short' }}</p>
          <span [ngClass]="alert.confirmed ? 'text-emerald-500' : 'text-amber-500'" class="text-[9px] font-black uppercase italic">
            {{ alert.confirmed === true ? 'Confirmado' : (alert.confirmed === false ? 'Falsa Alarma' : 'Pendiente') }}
          </span>
        </div>
      </div>
    </div>
  </div>
</div>